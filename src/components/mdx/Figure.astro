---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

type Props = {
  src: string | ImageMetadata;
  alt: string;
};

const { src, alt } = Astro.props;
---

<style>
  .mdx-image {
    text-align: center;
    margin: 1.5rem auto;
  }
  .mdx-image img,
  image {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
    max-width: 800px;
  }
  .mdx-image figcaption {
    margin-top: 0.5rem;
    font-size: 0.9rem;
    color: #666;
    font-style: italic;
  }
</style>

<figure class="mdx-image">
  {
    typeof src === "string" ? (
      <img src={src} alt={alt} />
    ) : (
      <Image {src} {alt} />
    )
  }
  {alt && <figcaption class="text-center">{alt}</figcaption>}
</figure>
